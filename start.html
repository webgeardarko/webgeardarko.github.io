<head>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Exo&display=swap" rel="stylesheet">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
</head>

<style>
body{
margin:0;
}
#txt{
color:rgba(255,255,255,0.4);
position:absolute;
width:auto;
height:auto;
bottom:25px;
left:25px;
font-size:40px;
font-family: 'Exo', sans-serif;cursor:default;
}
#google form{
width:10%;
height:10%;
position:absolute;
top:-500px;
bottom:0;
left:0;
right:0;
margin:auto;
}
     #google form {
        background-color: rgba(0,0,0,0.5);
        width: 500px;
        height: 44px;
        border-radius: 5px;
        display:flex;
        flex-direction:row;
        align-items:center;
      }

      #google input {
        all: unset;
        font: 16px system-ui;
        color: #fff;
        height: 100%;
        width: 100%;
        padding: 6px 10px;
      }

      ::placeholder {
        color: #fff;
        opacity: 0.7; 
      }

      svg {
        color: #fff;
        fill: currentColor;
        width: 24px;
        height: 24px;
        padding: 10px;
      }

      #google button {
        all: unset;
        cursor: pointer;
        width: 44px;
        height: 44px;
      }
#model{
display:none;
padding:19px;
font-family:helvetica;
position:absolute;
top:0;
bottom:0;
left:0;
right:0;
margin:auto;
z-index:1;
width:500px;
height:220px;
border-radius:4px;
background:#222;
color:#aaa;
}
#model_edit{
display:none;
padding:19px;
font-family:helvetica;
position:absolute;
top:0;
bottom:0;
left:0;
right:0;
margin:auto;
z-index:1;
width:500px;
height:220px;
border-radius:4px;
background:#222;
color:#aaa;
}
#input[type=text],label{
font-size:11px;
font-weight:bold;
font-family:helvetica;
}
#model h1{
font-size:14px;
font-family:helvetica;
font-weight: lighter;
color:#fff;
margin-bottom:15px;
}
#model_edit h1{
font-size:14px;
font-family:helvetica;
font-weight: lighter;
color:#fff;
margin-bottom:15px;
}
input[type=text], select {
color:#aaa;
width: 100%;
padding: 5px 5px;
margin-top:5px;
display: inline-block;
border-radius: 4px;
box-sizing: border-box;
background:rgba(0,0,0,0.5);
border:none;
}
input[type=submit] {
width: auto;
color: white;
background:0;
border:1px solid #777;
padding: 5px 20px;
margin: 10px 3px;
border-radius: 4px;
cursor: pointer;
}
input[type=submit]:hover {
background:rgba(255,255,255,0.1);
}
input[type=button] {
width: auto;
color: white;
background:#444;
border:1px solid #444;
padding: 5px 20px;
margin: 10px 3px;
border-radius: 4px;
cursor: pointer;
}
input[type=button]:hover {
background:#666;
border:1px solid #666;
}
input[type=submit]:hover {
background:rgba(255,255,255,0.1);
}
#buttons_model{
display: flex;
justify-content: flex-end;
margin-top:25px;
}
#buttons_model2{
display: flex;
justify-content: flex-end;
margin-top:20px;
}
#model_background{
display:none;
padding:19px;
font-family:helvetica;
position:absolute;
top:0;
bottom:0;
left:0;
right:0;
margin:auto;
z-index:1;
width:400px;
height:150px;
border-radius:4px;
background:#222;
color:#aaa;
}
#model_background h1{
font-size:14px;
font-family:helvetica;
font-weight: lighter;
color:#fff;
margin-bottom:15px;
}
#app_select{
display:none;
overflow:hidden;
text-align:center;
width:850px;
height:350px;
position:absolute;
background:0;
border:6px solid rgba(255,255,255,0);
z-index:0;
margin:auto;
left:0;
right:0;
top:0;
bottom:0;
}
.edit{
opacity:0;
font-size:25px;
position:absolute;
margin-left:85px;
margin-top:0;
z-index:1;
}
.remove{
opacity:0;
font-size:25px;
position:absolute;
margin-left:85px;
margin-top:0;
z-index:1;
}
.menu {
  display:none;
  position:absolute;
  z-index:2;
  width: 125px;
  font-size:14px;
}
.menu a {
background-color: #333;
font-family:helvetica;
color: #eee;
display: block;
padding: 12px;
text-decoration: none;
}
.menu a:hover {
  background-color: #555;
}
.apps{
cursor:pointer;
display:inline-block;
border-radius:6%;
width:125px;
height:130px;
margin:5px;
}
.apps:hover{
background:rgba(5,5,5,0.35);
}
.apps:hover .apps_icon img{
width:45px;
height:45px;
}
.apps:hover .edit {
opacity:1;
}
.apps_icon{
position:relative;
margin:auto;
top:12px;
bottom:0;
left:0;
right:0;
width:80px;
height:80px;
border-radius:360px;
background:rgba(0,0,0,0.5);
}
.apps_icon img{
height:50px;
width:50px;
border-radius:360px;
position:absolute;
margin:auto;
right:0;
left:0;
bottom:0;
top:0;
}
.app_name{
color:#ccc;
font-size:15px;
font-weight:lighter;
text-align:center;
font-family:helvetica;
position:relative;
top:11px;
}
#screen{
background:rgba(0,0,0,0.5);
position:absolute;
z-index:-1;
width:100%;
height:100%;
}
#wallpaper{
z-index:-2;
position:absolute;
background:url('') no-repeat center/cover#000;
width:100%;
height:100%;
}
#settings{
width:40px;
height:40px;
position:absolute;
bottom:38px;
right:25px;
font-size:40px;
cursor:pointer;
}
</style>
<body onload="myFunction2(), myFunction3(),startTime();">

<div id="google">
    <form role="search" id="form">
      <input type="search" id="query" name="q" placeholder="Search..." aria-label="Search through site content">
      <button>
        <svg viewBox="0 0 1024 1024"><path class="path1" d="M848.471 928l-263.059-263.059c-48.941 36.706-110.118 55.059-177.412 55.059-171.294 0-312-140.706-312-312s140.706-312 312-312c171.294 0 312 140.706 312 312 0 67.294-24.471 128.471-55.059 177.412l263.059 263.059-79.529 79.529zM189.623 408.078c0 121.364 97.091 218.455 218.455 218.455s218.455-97.091 218.455-218.455c0-121.364-103.159-218.455-218.455-218.455-121.364 0-218.455 97.091-218.455 218.455z"></path></svg>
      </button>
    </form>
</div>

<div id="model">
<h1>Add Shortcut</h1>
<label for="fname">Name</label>
<input type="text" id="jsapp_name" name="appname" required>

</br></br>

<label for="lname">URL</label>
<input type="text" id="jsapp_url" name="appurl" required>

<div id="buttons_model">
  
<input onclick="hideModel();"type="submit" value="Cancel">
<input onclick="myFunction(),hideModel();" type="button" value="Done">

</div>
</div>

<div id="model_edit">
<h1>Edit Shortcut</h1>
<label for="fname">Name</label>
<input type="text" id="jsapp_name" name="appname" required>

</br></br>

<label for="lname">URL</label>
<input type="text" id="jsapp_url" name="appurl" required>

<div id="buttons_model">
  
<input onclick="hideModel2();"type="submit" value="Cancel">
<input onclick="editShortcut(),hideModel2();" type="button" value="Done">

</div>
</div>

<div id="model_background">
<h1>Set Background</h1>
<label for="fname">URL</label>
<input type="text" id="jsback_url" name="backurl" required>

<div id="buttons_model2">
  
<input onclick="hideModelBack();"type="submit" value="Cancel">
<input onclick="setBack(),hideModelBack();" type="button" id="setB" value="Set Background" >

</div>
</div>

<script>
//localStorage.removeItem('username') for removing the name for now.
user = localStorage.getItem('username');
if (user == null) {
var test = prompt("What is your name?");
localStorage.setItem('username', test);
user = localStorage.getItem('username');
} else {
//do nothing
}

function startTime() {
  const today = new Date();
  let h = today.getHours();
  let hh = today.getHours();
  let m = today.getMinutes();
  let s = today.getSeconds();
  let sess = "";
  let timeOfDay = "";
  m = checkTime(m);
  s = checkTime(s);
  if(h == 0){
        h = 12;
    }

 if(hh >= 0){
        timeOfDay = "Good night,";
        sess = "AM";
    }

 if(hh >= 6){
        timeOfDay = "Good morning,";
        sess = "AM";
    }

 if(hh >= 12){
        timeOfDay = "Good afternoon,";
        sess = "PM";
    }

 if(hh >= 18 ){
        timeOfDay = "Good evening,";
        sess = "PM";
    }

 if(hh >= 21){
        timeOfDay = "Good night,";
        sess = "PM";
    }
    
    if(hh > 12){
        h = h - 12;
    }

  document.getElementById('txt').innerHTML =  "<span style=font-size:35px>" + h + ":" + m + ":" + s + " " + sess + "</span>" + "<br>" + timeOfDay + " "  + user + "!";
  setTimeout(startTime, 1000);
}

function checkTime(i) {
  if (i < 10) {i = "0" + i};  // add zero in front of numbers < 10
  return i;
}

$(document).ready(function(){
$("#wallpaper").style.background = (localStorage.back)
    function $(s){
        return document.querySelector(s);
    }
    $("#setB").onclick = function(){
    $("#wallpaper").style.background = "url("+($("input#jsback_url").value)+")no-repeat center/cover";
$("#model_background").style.display = "none";
	localStorage.back = "url("+($("input#jsback_url").value)+")no-repeat center/cover";
    }
});

function showModelBack() {
  document.getElementById("model_background").style.display = "block";
}

function hideModelBack() {
  document.getElementById("model_background").style.display = "none";
}

function showModel() {
  document.getElementById("model").style.display = "block";
}

function hideModel() {
  document.getElementById("model").style.display = "none";
}

function hideModel2() {
  document.getElementById("model_edit").style.display = "none";
}

function editShortcut() {
alert('I cannot wait to suffer with this bullshit shitty ass code. Rather Madotsuki myself.');
alert('No seriously, this is going to be so annoying to do.');
alert('I rather just make these alert boxes than waste my time with it.');
}

function myFunction() {
let apptotal = document.getElementsByClassName("apps").length
const b = Object.freeze(apptotal);
//alert(apptotal);
localStorage.setItem('id', apptotal);
// create div element
// give id to element

let divElement = document.createElement('div')
let divElement2 = document.createElement('div')
let divElement3 = document.createElement('div')
let divElement4 = document.createElement('div')
let divElement5 = document.createElement('div')
let divElement6 = document.createElement('div')

// give class name to element 
divElement.className = "apps";
divElement2.className = "apps_icon";
divElement5.className = "menu";
divElement6.className = "edit";

// create text node

let edit_link = document.createElement('a');
      let linkText = document.createTextNode("Edit");
      edit_link.appendChild(linkText);
      edit_link.href = "#";
divElement5.appendChild(edit_link)

let edit_link2 = document.createElement('a');
      let linkText2 = document.createTextNode("Remove");
      edit_link2.appendChild(linkText2);
      edit_link2.href = "#";
divElement5.appendChild(edit_link2)

let divElementEdit = document.createTextNode('⚙️');
divElement4.className = "edit";
divElement4.appendChild(divElementEdit)
divElement.appendChild(divElement4)

divElement4.onclick = function () {
divElement5.style.display = "block";
};

edit_link.onclick = function () {
document.getElementById("model_edit").style.display = "block";
divElement5.style.display = "none";
};

edit_link2.onclick = function () {
ls = localStorage.getItem('id');
localStorage.setItem('id', ls - 1);
localStorage.removeItem("name" + parseInt(apptotal - 1));
localStorage.removeItem("fav" + parseInt(apptotal - 1));
divElement5.style.display = "none";
divElement.remove();
};

let  x = document.createElement("IMG");
let  y = document.createElement("H1");
y.className = "app_name";
let z = document.getElementById("jsapp_name").value;
let fav = document.getElementById("jsapp_url").value;
divElement2.onclick = function () {
    window.open(fav);
};

let myElement = localStorage.getItem("name" + (apptotal - 1));

if(!myElement){

localStorage.setItem("name" + (apptotal - 1), z);
localStorage.setItem("fav" + (apptotal - 1), fav);

} else {
localStorage.setItem("name" + (apptotal), z);
localStorage.setItem("fav" + (apptotal), fav);
}

let divElementText2 = document.createTextNode(z);
x.setAttribute("src", "https://t1.gstatic.com/faviconV2?client=SOCIAL&type=FAVICON&fallback_opts=TYPE,SIZE,URL&url=" + fav + "&size=64");

// append div to div
divElement.appendChild(divElement5);
divElement.appendChild(divElement2);

divElement2.appendChild(x);
y.appendChild(divElementText2);
divElement.appendChild(y);

// append div element to document
app_select.appendChild(divElement);

document.getElementById("add_shortcut").remove();

myFunction3();

}

function myFunction2() {

//localStorage.clear();

result = localStorage.getItem('id');

for (let i = 0; i < result; i++) {

let ls = localStorage.getItem("name" + i);

if (ls == null) {
//do nothing
} else {

let divElement = document.createElement('div')
let divElement2 = document.createElement('div')
let divElement3 = document.createElement('div')
let divElement4 = document.createElement('div')
let divElement5 = document.createElement('div')
let divElement6 = document.createElement('div')

divElement.className = "apps";
divElement2.className = "apps_icon";
divElement5.className = "menu";
divElement6.className = "edit";

// create text node
let edit_link = document.createElement('a');
      let linkText = document.createTextNode("Edit");
      edit_link.appendChild(linkText);
      edit_link.href = "#";
divElement5.appendChild(edit_link)

let edit_link2 = document.createElement('a');
      let linkText2 = document.createTextNode("Remove");
      edit_link2.appendChild(linkText2);
      edit_link2.href = "#";
divElement5.appendChild(edit_link2)

divElement.appendChild(divElement5);

let divElementEdit = document.createTextNode('⚙️');
divElement4.className = "edit";
divElement4.appendChild(divElementEdit)
divElement.appendChild(divElement4)

divElement4.onclick = function () {
divElement5.style.display = "block";
};

edit_link.onclick = function () {
document.getElementById("model_edit").style.display = "block";
divElement5.style.display = "none";
};

edit_link2.onclick = function () {
ls = localStorage.getItem('id');
localStorage.setItem('id', ls);
localStorage.removeItem("name" + i - 1);
localStorage.removeItem("fav" + i - 1);
divElement.remove();
};

let  x = document.createElement("IMG");
let  y = document.createElement("H1");

y.className = "app_name";
let z = localStorage.getItem("name" + i);
let fav = localStorage.getItem("fav" + i);
divElement2.onclick = function () {
    window.open(fav);
};
let divElementText2 = document.createTextNode(z);
x.setAttribute("src", "https://t1.gstatic.com/faviconV2?client=SOCIAL&type=FAVICON&fallback_opts=TYPE,SIZE,URL&url=" + fav + "&size=64");
divElement.appendChild(divElement2);

divElement2.appendChild(x);
y.appendChild(divElementText2);
divElement.appendChild(y);

app_select.appendChild(divElement);
}
}
}

function myFunction3() {

let divElement = document.createElement('div')
let divElement2 = document.createElement('div')
let divElement3 = document.createElement('div')
let divElement4 = document.createElement('div')

divElement.setAttribute("id", "add_shortcut");
divElement.className = "apps";
divElement2.className = "apps_icon";

let  x = document.createElement("IMG");
let  y = document.createElement("H1");
y.className = "app_name";
let z = ("Add shortcut");
divElement2.onclick = function () {
    showModel();
};
let divElementText2 = document.createTextNode(z);
x.setAttribute("src", "https://cdn.discordapp.com/emojis/454892769731805215.webp?size=128&quality=lossless");

divElement.addEventListener('mouseover',function(){
   x.setAttribute("src", "https://cdn.discordapp.com/emojis/454892769731805215.gif?size=128&quality=lossless");
})
divElement.addEventListener('mouseleave',function(){
   x.setAttribute("src", "https://cdn.discordapp.com/emojis/454892769731805215.webp?size=128&quality=lossless");
})

divElement.appendChild(divElement2);

divElement2.appendChild(x);
y.appendChild(divElementText2);
divElement.appendChild(y);

app_select.appendChild(divElement);

const f = document.getElementById('form');
      const q = document.getElementById('query');
      const google = 'https://www.google.com/search?q=';
      const site = '';

      function submitted(event) {
        event.preventDefault();
        const url = google + site + '+' + q.value;
        const win = window.open(url, '_blank');
        win.focus();
      }

      f.addEventListener('submit', submitted);

}

</script>

<div id="app_select">
</div>
<div id="screen">
</div>
<div id="wallpaper">
</div>

<div onclick="showModelBack();" id="settings">
📝
</div>

<div id="txt"></div>


</body>